(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),s=(n(15),n(9)),i=n(1),l=n(2),u=n(4),h=n(3),f=n(5),d=n(8),m=n.n(d),k=function(e){var t=e.id,n=e.text,a=e.done,r=e.onChange,o=e.handleTaskDelete,s=m()("list-item",{"list-item_done":a});return c.a.createElement("li",{className:s},c.a.createElement("input",{type:"checkbox",className:"list-item__checkbox",defaultChecked:a,onChange:function(){return r(t)}}),c.a.createElement("span",{className:"list-item__text"},n),c.a.createElement("button",{className:"list-item__delete-btn",onClick:function(){return o(t)}}))},p=k;k.defaultProps={text:"",done:!1};var b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={value:""},n.getValue=function(e){n.setState({value:e.target.value})},n.handleTaskCreate=function(){n.props.onCreate(n.state.value),n.setState({value:""})},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"create-task"},c.a.createElement("input",{className:"create-task__input",type:"text",value:this.state.value,onChange:this.getValue,placeholder:"create your task"}),c.a.createElement("button",{className:"btn create-task-btn",onClick:this.handleTaskCreate},"Create"))}}]),t}(a.Component),E="https://5e517090f2c0d300147c07c9.mockapi.io/api/v1/tasks",v=function(){return fetch(E).then((function(e){if(e.ok)return e.json()}))},C=function(e){return fetch(E,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("Failed to create task")}))},T=function(e,t){return fetch("".concat(E,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("Failed to create task")}))},y=function(e){return fetch("".concat(E,"/").concat(e),{method:"DELETE"}).then((function(e){if(!e.ok)throw new Error("Failed to create task")}))},O=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={tasks:[]},n.fetchTasks=function(){v().then((function(e){n.setState({tasks:e})}))},n.onCreate=function(e){C({text:e,done:!1}).then((function(){return n.fetchTasks()}))},n.handleTaskOnChange=function(e){var t=n.state.tasks.find((function(t){return t.id===e})),a=t.text,c=t.done;T({id:e,text:a,done:!c},e).then((function(){return n.fetchTasks()}))},n.handleTaskDelete=function(e){y(e).then((function(){return n.fetchTasks()}))},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"render",value:function(){var e=this,t=Object(s.a)(this.state.tasks).sort((function(e,t){return e.done-t.done}));return c.a.createElement("main",{className:"todo-list"},c.a.createElement(b,{onCreate:this.onCreate}),c.a.createElement("ul",{className:"list"},t.map((function(t){return c.a.createElement(p,Object.assign({key:t.id},t,{onChange:e.handleTaskOnChange,handleTaskDelete:e.handleTaskDelete}))}))))}}]),t}(a.Component),g=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"title"},"Todo List"),c.a.createElement(O,null))},j=function(){return c.a.createElement(g,null)};o.a.render(c.a.createElement(j,null),document.querySelector("#root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.610073e1.chunk.js.map